{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts","../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts","../../../../lib/model-config.ts","../../../../actions/test-model.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n","// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n","export const MODEL_CONFIG = {\n  apiKey:\n    \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJHcm91cE5hbWUiOiJTaGliaW5nIFhpYW5nIiwiVXNlck5hbWUiOiJTaGliaW5nIFhpYW5nIiwiQWNjb3VudCI6IiIsIlN1YmplY3RJRCI6IjE5ODMzMzg3ODkzNTQ4NzM0MjQiLCJQaG9uZSI6IjE1MjgwOTk1NjIzIiwiR3JvdXBJRCI6IjE5ODMzMzg3ODkzNDY0ODQ4MTYiLCJQYWdlTmFtZSI6IiIsIk1haWwiOiIiLCJDcmVhdGVUaW1lIjoiMjAyNS0xMS0xNyAwMTo0NzoxMiIsIlRva2VuVHlwZSI6NCwiaXNzIjoibWluaW1heCJ9.J9DXYnr6kbFABZZREpiuEJFsjIq7gSfNcHqjlBVc0RhPV3ayukzfpQOdescWWt_dDNar704FKZ3ObhVlv8SoZqVZBgqRY754M5xdkGtZ83ytI0MF6eXTyPVMho-L_NFM7ZagKhSXuDJS8M5dZ6ccZfcsK8zHFh6mUuhJV9x2-jyoUPFtWNNCfYEitOfGdxuxIoiJdvHz6mJNRfhVGELxhw1kr6v-xwf3CEAILZCYSABIGfeTkL6IrC69JpPheN8pgCASD_Qh6wKlGZnrNiHV5sFcBP-ADELucPT5QSo_Wj7MvsG9csHeONubxxYKKK6S5TvEIuGLnmCjcRG5k1mEiA\",\n  baseURL: \"https://api.minimaxi.com/v1\",\n  model: \"MiniMax-M2-Stable\",\n}\n\nexport const PRESET_MODELS = [\n  {\n    id: \"doubao-pro\",\n    name: \"Doubao Seed 1.6 Lite\",\n    baseURL: \"https://ark.cn-beijing.volces.com/api/v3\",\n    connectionURL: \"https://ark.cn-beijing.volces.com/api/v3/chat/completions\",\n    apiKey: \"2ee34654-7f98-46bc-b879-6ed4fb57eddf\",\n    model: \"doubao-seed-1-6-lite-251015\",\n    provider: \"doubao\",\n  },\n  {\n    id: \"minimax\",\n    name: \"MiniMax M2\",\n    baseURL: \"https://api.minimaxi.com/v1\",\n    connectionURL: \"https://api.minimaxi.com/v1/chat/completions\",\n    apiKey: MODEL_CONFIG.apiKey,\n    model: \"MiniMax-M2-Stable\",\n    provider: \"minimax\",\n  },\n  {\n    id: \"ChatGLM\",\n    name: \"ChatGLM-4.6\",\n    baseURL: \"https://open.bigmodel.cn/api/coding/paas/v4\",\n    connectionURL: \"https://open.bigmodel.cn/api/coding/paas/v4/chat/completions\",\n    apiKey: MODEL_CONFIG.apiKey,\n    model: \"glm-4.6\",\n    provider: \"ChatGLM\",\n  }\n]\n","\"use server\"\n\nimport { MODEL_CONFIG } from \"@/lib/model-config\"\n\nexport async function testModelConnection(prompt: string, configOverride?: any) {\n  const config = { ...MODEL_CONFIG, ...configOverride }\n\n  const apiUrl = config.connectionURL || config.baseURL\n\n  console.log(`[v0] Testing connection to: ${apiUrl} with model: ${config.model}`)\n\n  try {\n    const response = await fetch(apiUrl, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${config.apiKey}`,\n      },\n      body: JSON.stringify({\n        model: config.model,\n        messages: [\n          { role: \"system\", content: \"You are a helpful AI assistant.\" },\n          { role: \"user\", content: prompt },\n        ],\n        stream: false,\n      }),\n    })\n\n    if (!response.ok) {\n      const errorText = await response.text()\n      return { success: false, raw: `Error ${response.status}: ${errorText}`, url: apiUrl }\n    }\n\n    const data = await response.json()\n    const content = data.choices?.[0]?.message?.content || JSON.stringify(data, null, 2)\n\n    return {\n      success: true,\n      content: content,\n      raw: JSON.stringify(data, null, 2),\n      url: apiUrl,\n    }\n  } catch (error: any) {\n    return { success: false, raw: `Network Error: ${error.message}`, url: apiUrl }\n  }\n}\n"],"names":["registerServerReference","ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"6CAAoD,OAAA,cAAA,CAAA,EAAA,aAAA,oCAC3CA,0BAAAA,qCAAAA,EAAAA,uBAAuB,YAAQ,CAAA,CAAA,IAAA,iCCEjC,SAASC,EAAyBC,CAAc,EACrD,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQE,MAAM,CAAED,IAAK,CACvC,IAAME,EAASH,CAAO,CAACC,EAAE,CACzB,GAAsB,YAAY,AAA9B,OAAOE,EACT,MAAM,OAAA,cAEL,CAFK,AAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,EAAO;AAAA,oEAAuE,CAAC,EADhJ,oBAAA,OAAA,mBAAA,gBAAA,CAEN,EAEJ,CACF,0EATgBJ,2BAAAA,qCAAAA,8CCHT,IAAM,EAAe,CAC1B,OACE,usBACF,QAAS,8BACT,MAAO,mBACT,ECDO,eAAe,EAAoB,CAAc,CAAE,CAAoB,EAC5E,IAAM,EAAS,CAAE,GAAG,CAAY,CAAE,GAAG,CAAc,AAAC,EAE9C,EAAS,EAAO,aAAa,EAAI,EAAO,OAAO,CAErD,QAAQ,GAAG,CAAC,CAAC,4BAA4B,EAAE,EAAO,aAAa,EAAE,EAAO,KAAK,CAAA,CAAE,EAE/E,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,EAAQ,CACnC,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,cAAe,CAAC,OAAO,EAAE,EAAO,MAAM,CAAA,CAAE,AAC1C,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,MAAO,EAAO,KAAK,CACnB,SAAU,CACR,CAAE,KAAM,SAAU,QAAS,iCAAkC,EAC7D,CAAE,KAAM,OAAQ,QAAS,CAAO,EACjC,CACD,QAAQ,CACV,EACF,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,GACrC,MAAO,CAAE,SAAS,EAAO,IAAK,CAAC,MAAM,EAAE,EAAS,MAAM,CAAC,EAAE,EAAE,EAAA,CAAW,CAAE,IAAK,CAAO,CACtF,CAEA,IAAM,EAAO,MAAM,EAAS,IAAI,GAC1B,EAAU,EAAK,OAAO,EAAE,CAAC,EAAE,EAAE,SAAS,SAAW,KAAK,SAAS,CAAC,EAAM,KAAM,GAElF,MAAO,CACL,SAAS,EACT,QAAS,EACT,IAAK,KAAK,SAAS,CAAC,EAAM,KAAM,GAChC,IAAK,CACP,CACF,CAAE,MAAO,EAAY,CACnB,MAAO,CAAE,SAAS,EAAO,IAAK,CAAC,eAAe,EAAE,EAAM,OAAO,CAAA,CAAE,CAAE,IAAK,CAAO,CAC/E,CACF,CD5BE,AAKU,EAAa,MAAM,AAG7B,CACA,AAKU,EAAa,MAAM,AAG7B,0CC9BoB,IAAA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA","ignoreList":[0,1]}